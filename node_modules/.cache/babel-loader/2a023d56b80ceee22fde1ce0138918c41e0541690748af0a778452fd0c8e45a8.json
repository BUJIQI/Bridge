{"ast":null,"code":"import { ref, onMounted, computed } from 'vue';\nimport { useUserStore } from '@/store/user';\nimport axios from '@/api/axios';\nexport default {\n  setup() {\n    const userStore = useUserStore();\n    userStore.setSelectedHistory(localStorage.getItem('SelectedPeriod'));\n    const selectedHistory = computed(() => userStore.selectedHistory);\n    const historicalDecisionData = ref({});\n    const fetchHistoricalDecision = async () => {\n      try {\n        const response = await axios.get('/users/historical_decision/', {\n          withCredentials: true\n        });\n        historicalDecisionData.value = response.data;\n      } catch (error) {\n        console.error('获取历史决策数据时发生错误:', error);\n      }\n    };\n\n    // 在组件挂载时请求数据\n    onMounted(() => {\n      fetchHistoricalDecision();\n    });\n\n    // 计算属性：检查是否存在 selectedHistory 字段对应的数据\n    const matchingKey = computed(() => {\n      return Object.keys(historicalDecisionData.value).find(key => key.includes(selectedHistory.value));\n    });\n    return {\n      historicalDecisionData,\n      matchingKey,\n      selectedHistory\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","computed","useUserStore","axios","setup","userStore","setSelectedHistory","localStorage","getItem","selectedHistory","historicalDecisionData","fetchHistoricalDecision","response","get","withCredentials","value","data","error","console","matchingKey","Object","keys","find","key","includes"],"sources":["D:\\当下文件\\python trycode\\Bridge-1\\src\\components\\HistoryDecision.vue"],"sourcesContent":["<template>\r\n    <div class=\"panel panel-default mt-3\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">{{ matchingKey }}</h3> \r\n        </div>\r\n        <div class=\"panel-body\">\r\n            <section class=\"decision-section sales\">\r\n                <h2>销售</h2>\r\n                <div class=\"input-group\">\r\n                    <label>一般市场价格</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.一般市场价格\" disabled />\r\n                        <span class=\"unit\">元/台</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>广告费用投入</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.广告费用投入\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>销售人员个数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.销售人员个数\" disabled />\r\n                        <span class=\"unit\">个</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>市场和生产研究报告</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <select :value=\"historicalDecisionData[matchingKey]?.市场和生产研究报告\" disabled>\r\n                            <option value=\"Y\">Y</option>\r\n                            <option value=\"N\">N</option>\r\n                        </select>\r\n                        <span class=\"unit\">Y/N</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>附一：投标价格</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.['附一：投标价格']\" disabled />\r\n                        <span class=\"unit\">元/台</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>附二：特殊产品数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.['附二：特殊产品数']\" disabled />\r\n                        <span class=\"unit\">台</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section class=\"decision-section production\">\r\n                <h2>生产</h2>\r\n                <div class=\"input-group\">\r\n                    <label>一般市场产品计划量</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.一般市场产品计划量\" disabled />\r\n                        <span class=\"unit\">台</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>生产线投资数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.生产线投资数\" disabled />\r\n                        <span class=\"unit\">条</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>生产线变卖数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.生产线变卖数\" disabled />\r\n                        <span class=\"unit\">条</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>维修保养费用</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.维修保养费用\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>生产合理化投资</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.生产合理化投资\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>生产人员招收数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.生产人员招收数\" disabled />\r\n                        <span class=\"unit\">个</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>生产人员辞退数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.生产人员辞退数\" disabled />\r\n                        <span class=\"unit\">个</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>购买机器人</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.购买机器人\" disabled />\r\n                        <span class=\"unit\">个</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section class=\"decision-section purchasing\">\r\n                <h2>采购</h2>\r\n                <div class=\"input-group\">\r\n                    <label>购买原材料量</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.购买原材料量\" disabled />\r\n                        <span class=\"unit\">单位</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>购买附件量</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.购买附件量\" disabled />\r\n                        <span class=\"unit\">单位</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section class=\"decision-section quality\">\r\n                <h2>质量</h2>\r\n                <div class=\"input-group\">\r\n                    <label>科研人员招收数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.科研人员招收数\" disabled />\r\n                        <span class=\"unit\">个</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>科研人员辞退数</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.科研人员辞退数\" disabled />\r\n                        <span class=\"unit\">个</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>产品改进费用</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.产品改进费用\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <section class=\"decision-section finance\">\r\n                <h2>财务</h2>\r\n                <div class=\"input-group\">\r\n                    <label>社会福利费用</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.社会福利费用\" disabled />\r\n                        <span class=\"unit\">%</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>中期贷款</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.中期贷款\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>购买有价证券</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.购买有价证券\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>计划支付股息</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.计划支付股息\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"input-group\">\r\n                    <label>管理合理化投资</label>\r\n                    <div class=\"input-wrapper\">\r\n                        <input type=\"text\" :value=\"historicalDecisionData[matchingKey]?.管理合理化投资\" disabled />\r\n                        <span class=\"unit\">百万元</span>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport { useUserStore } from '@/store/user';\r\nimport axios from '@/api/axios';\r\n\r\nexport default {\r\n    setup() {\r\n        const userStore = useUserStore();\r\n            userStore.setSelectedHistory(localStorage.getItem('SelectedPeriod'));\r\n            \r\n        const selectedHistory = computed(() => userStore.selectedHistory);  \r\n        const historicalDecisionData = ref({}); \r\n\r\n        const fetchHistoricalDecision = async () => {\r\n            try {\r\n                const response = await axios.get('/users/historical_decision/', {\r\n                    withCredentials: true\r\n                });\r\n                historicalDecisionData.value = response.data; \r\n            } catch (error) {\r\n                console.error('获取历史决策数据时发生错误:', error);\r\n            }\r\n        };\r\n\r\n        // 在组件挂载时请求数据\r\n        onMounted(() => {\r\n            fetchHistoricalDecision();\r\n        });\r\n\r\n        // 计算属性：检查是否存在 selectedHistory 字段对应的数据\r\n        const matchingKey = computed(() => {\r\n            return Object.keys(historicalDecisionData.value).find(key => key.includes(selectedHistory.value));\r\n        });\r\n\r\n        return {\r\n            historicalDecisionData,\r\n            matchingKey,\r\n            selectedHistory\r\n        };\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.panel {\r\n  margin-top: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.panel-heading {\r\n    background-color: #f7f7f9;\r\n    padding: 15px;\r\n    display: flex; \r\n    justify-content: space-between; \r\n    align-items: center;\r\n}\r\n\r\n.panel-body {\r\n    background-color: #f4f4f4;\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n}\r\n\r\n.decision-section {\r\n    background-color: #ffffff;\r\n    border: 1px solid #ddd;\r\n    border-radius: 8px;\r\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n    margin-bottom: 20px;\r\n    padding: 20px;\r\n}\r\n\r\n.decision-section h2 {\r\n    color: #333;\r\n    border-bottom: 2px solid #e53935;\r\n    padding-bottom: 5px;\r\n}\r\n\r\n.input-group {\r\n    display: flex;\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.input-group label {\r\n    display: block;\r\n    color: #666;\r\n    margin-bottom: 5px;   \r\n    margin-top: 5px;\r\n    width: 170px;      \r\n}\r\n\r\n.input-wrapper {\r\n    display: flex;         \r\n    align-items: center;      \r\n    margin-left: auto;         \r\n}\r\n\r\n.input-wrapper input,\r\n.input-wrapper select {\r\n    flex: 1;               \r\n    padding: 5px;\r\n    border: 1px solid #888;\r\n    border-radius: 4px;\r\n    margin-right: 5px;      \r\n}\r\n\r\n.input-wrapper .unit {\r\n    color: #666;\r\n    font-size: 0.9em;\r\n}\r\n</style>\r\n"],"mappings":"AA4NA,SAASA,GAAG,EAAEC,SAAS,EAAEC,QAAO,QAAS,KAAK;AAC9C,SAASC,YAAW,QAAS,cAAc;AAC3C,OAAOC,KAAI,MAAO,aAAa;AAE/B,eAAe;EACXC,KAAKA,CAAA,EAAG;IACJ,MAAMC,SAAQ,GAAIH,YAAY,CAAC,CAAC;IAC5BG,SAAS,CAACC,kBAAkB,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;IAExE,MAAMC,eAAc,GAAIR,QAAQ,CAAC,MAAMI,SAAS,CAACI,eAAe,CAAC;IACjE,MAAMC,sBAAqB,GAAIX,GAAG,CAAC,CAAC,CAAC,CAAC;IAEtC,MAAMY,uBAAsB,GAAI,MAAAA,CAAA,KAAY;MACxC,IAAI;QACA,MAAMC,QAAO,GAAI,MAAMT,KAAK,CAACU,GAAG,CAAC,6BAA6B,EAAE;UAC5DC,eAAe,EAAE;QACrB,CAAC,CAAC;QACFJ,sBAAsB,CAACK,KAAI,GAAIH,QAAQ,CAACI,IAAI;MAChD,EAAE,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MAC1C;IACJ,CAAC;;IAED;IACAjB,SAAS,CAAC,MAAM;MACZW,uBAAuB,CAAC,CAAC;IAC7B,CAAC,CAAC;;IAEF;IACA,MAAMQ,WAAU,GAAIlB,QAAQ,CAAC,MAAM;MAC/B,OAAOmB,MAAM,CAACC,IAAI,CAACX,sBAAsB,CAACK,KAAK,CAAC,CAACO,IAAI,CAACC,GAAE,IAAKA,GAAG,CAACC,QAAQ,CAACf,eAAe,CAACM,KAAK,CAAC,CAAC;IACrG,CAAC,CAAC;IAEF,OAAO;MACHL,sBAAsB;MACtBS,WAAW;MACXV;IACJ,CAAC;EACL;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}