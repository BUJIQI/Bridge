{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-5\"\n};\nconst _hoisted_2 = {\n  class: \"mb-3 row\"\n};\nconst _hoisted_3 = {\n  class: \"col-sm-9\"\n};\nconst _hoisted_4 = {\n  class: \"mb-3 row\"\n};\nconst _hoisted_5 = {\n  class: \"col-sm-9\"\n};\nconst _hoisted_6 = {\n  class: \"mb-3 row\"\n};\nconst _hoisted_7 = {\n  class: \"col-sm-9\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3 row\"\n};\nconst _hoisted_9 = {\n  class: \"col-sm-9\"\n};\nconst _hoisted_10 = {\n  class: \"mb-3 row\"\n};\nconst _hoisted_11 = {\n  class: \"col-sm-9\"\n};\nconst _hoisted_12 = {\n  class: \"mb-3 row\"\n};\nconst _hoisted_13 = {\n  class: \"col-sm-9\"\n};\nconst _hoisted_14 = {\n  class: \"button-container text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", {\n    class: \"mb-4\"\n  }, \"注册\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[7] || (_cache[7] = _withModifiers((...args) => $setup.register && $setup.register(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"className\",\n    class: \"col-sm-3 col-form-label\"\n  }, \"班级:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"className\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.className = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.className]])])]), _createElementVNode(\"div\", _hoisted_4, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"studentID\",\n    class: \"col-sm-3 col-form-label\"\n  }, \"学号:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"studentID\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.studentID = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.studentID]])])]), _createElementVNode(\"div\", _hoisted_6, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"name\",\n    class: \"col-sm-3 col-form-label\"\n  }, \"姓名:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.name = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.name]])])]), _createElementVNode(\"div\", _hoisted_8, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    for: \"teamName\",\n    class: \"col-sm-3 col-form-label\"\n  }, \"队名:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"teamName\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.teamName = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.teamName]])])]), _createElementVNode(\"div\", _hoisted_10, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"password\",\n    class: \"col-sm-3 col-form-label\"\n  }, \"密码:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.password = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]])])]), _createElementVNode(\"div\", _hoisted_12, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"phone\",\n    class: \"col-sm-3 col-form-label\"\n  }, \"手机号:\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"tel\",\n    id: \"phone\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.phone = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.phone]])])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary me-2\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $setup.goToLogin && $setup.goToLogin(...args))\n  }, \"返回登录\"), _cache[14] || (_cache[14] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary\",\n    id: \"register-btn\"\n  }, \"注册\", -1 /* HOISTED */))])], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$setup","register","_hoisted_2","for","_hoisted_3","type","id","$event","className","required","_hoisted_4","_hoisted_5","studentID","_hoisted_6","_hoisted_7","name","_hoisted_8","_hoisted_9","teamName","_hoisted_10","_hoisted_11","password","_hoisted_12","_hoisted_13","phone","_hoisted_14","onClick","goToLogin"],"sources":["D:\\Bridge1\\src\\components\\UserRegister.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n        <h2 class=\"mb-4\">注册</h2>\r\n        <form @submit.prevent=\"register\">\r\n            <div class=\"mb-3 row\">\r\n                <label for=\"className\" class=\"col-sm-3 col-form-label\">班级:</label>\r\n                <div class=\"col-sm-9\">\r\n                    <input type=\"text\" id=\"className\" v-model=\"className\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3 row\">\r\n                <label for=\"studentID\" class=\"col-sm-3 col-form-label\">学号:</label>\r\n                <div class=\"col-sm-9\">\r\n                    <input type=\"text\" id=\"studentID\" v-model=\"studentID\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3 row\">\r\n                <label for=\"name\" class=\"col-sm-3 col-form-label\">姓名:</label>\r\n                <div class=\"col-sm-9\">\r\n                    <input type=\"text\" id=\"name\" v-model=\"name\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3 row\">\r\n                <label for=\"teamName\" class=\"col-sm-3 col-form-label\">队名:</label>\r\n                <div class=\"col-sm-9\">\r\n                    <input type=\"text\" id=\"teamName\" v-model=\"teamName\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3 row\">\r\n                <label for=\"password\" class=\"col-sm-3 col-form-label\">密码:</label>\r\n                <div class=\"col-sm-9\">\r\n                    <input type=\"password\" id=\"password\" v-model=\"password\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb-3 row\">\r\n                <label for=\"phone\" class=\"col-sm-3 col-form-label\">手机号:</label>\r\n                <div class=\"col-sm-9\">\r\n                    <input type=\"tel\" id=\"phone\" v-model=\"phone\" class=\"form-control\" required>\r\n                </div>\r\n            </div>\r\n            <div class=\"button-container text-center\">\r\n                <button type=\"button\" class=\"btn btn-secondary me-2\" @click=\"goToLogin\">返回登录</button>\r\n                <button type=\"submit\" class=\"btn btn-primary\" id=\"register-btn\">注册</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'vue-router';\r\nimport Swal from 'sweetalert2'; // 引入原生 SweetAlert2\r\n\r\nexport default {\r\n    setup() {\r\n        const router = useRouter();       \r\n        const className = ref('');\r\n        const studentID = ref('');\r\n        const name = ref('');\r\n        const teamName = ref('');\r\n        const password = ref('');\r\n        const phone = ref('');\r\n        \r\n        const register = async () => {\r\n            const payload = {\r\n                classid: className.value,\r\n                studentid: studentID.value,\r\n                name: name.value,\r\n                teamname: teamName.value,\r\n                pwd: password.value,\r\n                phone: phone.value\r\n            };\r\n            try {\r\n                const response = await axios.post('http://127.0.0.1:8000/users/register/', payload);\r\n                if (response.data.status === 'True') {\r\n                    const group = response.data.data.group;\r\n                    const number = response.data.data.number;\r\n                    Swal.fire({\r\n                        title: '提示',\r\n                        text: `注册成功，编号为第${group}组第${number}企业！`,\r\n                        icon: 'success'\r\n                    });\r\n                    setTimeout(goToLogin, 4000); // 注册成功后跳转到登录页\r\n                } else {\r\n                    Swal.fire({\r\n                        title: '提示',\r\n                        text: response.data.data.registertxt || '未知错误', // 显示注册失败的信息\r\n                        icon: 'error'\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.error(error); // 记录错误信息\r\n                Swal.fire({\r\n                    title: '提示',\r\n                    text: '注册失败，请重试！', // 设置错误提示\r\n                    icon: 'error'\r\n                });\r\n            }\r\n        };\r\n        \r\n        const goToLogin = () => {\r\n            router.push('/login/');\r\n        };\r\n        \r\n        return {\r\n            className,\r\n            studentID,\r\n            name,\r\n            teamName,\r\n            password,\r\n            phone,\r\n            register,\r\n            goToLogin,\r\n        };\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}